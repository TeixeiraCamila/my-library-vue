import{_ as p,u as w,r as d,a as y,c as o,b as t,F as v,d as m,o as i,t as s,n as A}from"./index-BwdD-lw7.js";const f={class:"admin-view"},k={class:"users-table"},C=["value","onChange"],b=["value"],R=["onClick"],S={__name:"AdminView",setup(U){const r=w(),u=d([]),_=d([{id:1,name:"admin"},{id:2,name:"editor"},{id:3,name:"viewer"}]);y(async()=>{await c()});async function c(){try{u.value=await r.getAllUsers()}catch(n){alert(n.message)}}async function h(n,a){try{await r.updateUserRole(n,a),await c(),alert("Role atualizada com sucesso!")}catch(e){alert(e.message)}}async function g(n){try{await r.toggleUserActive(n.id,!n.active),await c()}catch(a){alert(a.message)}}return(n,a)=>(i(),o("div",f,[a[1]||(a[1]=t("h1",null,"Gerenciar Usuários",-1)),t("table",k,[a[0]||(a[0]=t("thead",null,[t("tr",null,[t("th",null,"Nome"),t("th",null,"Email"),t("th",null,"Role"),t("th",null,"Status"),t("th",null,"Criado em"),t("th",null,"Ações")])],-1)),t("tbody",null,[(i(!0),o(v,null,m(u.value,e=>(i(),o("tr",{key:e.id},[t("td",null,s(e.name),1),t("td",null,s(e.email),1),t("td",null,[t("select",{value:e.role_id,onChange:l=>h(e.id,l.target.value)},[(i(!0),o(v,null,m(_.value,l=>(i(),o("option",{key:l.id,value:l.id},s(l.name),9,b))),128))],40,C)]),t("td",null,[t("span",{class:A(e.active?"status-active":"status-inactive")},s(e.active?"Ativo":"Inativo"),3)]),t("td",null,s(new Date(e.created_at).toLocaleDateString("pt-BR")),1),t("td",null,[t("button",{onClick:l=>g(e)},s(e.active?"Desativar":"Ativar"),9,R)])]))),128))])])]))}},D=p(S,[["__scopeId","data-v-c6434d1e"]]);export{D as default};
